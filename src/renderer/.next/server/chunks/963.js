"use strict";exports.id=963,exports.ids=[963],exports.modules={89:(a,b,c)=>{c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(8157),e=c(1768),f=c(5704);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},3101:(a,b,c)=>{c.d(b,{a:()=>e});class d{static getInstance(){return d.instance||(d.instance=new d),d.instance}get api(){if(!window.electronAPI)throw Error("Electron API not available. Make sure this is running in Electron.");return window.electronAPI}async getDifficulties(a){return await this.api.game.getDifficulties(a)}async startGame(a){console.log("\uD83D\uDD0C IPC: Calling game.start with params:",a);let b=await this.api.game.start(a);if(console.log("\uD83D\uDD0C IPC: game.start result:",b),!b.success)throw console.error("\uD83D\uDD0C IPC: Game start failed:",b.error),Error(b.error||"Failed to start game");return console.log("\uD83D\uDD0C IPC: Game start successful, returning mock session"),{sessionId:"mock-session-"+Date.now(),chartId:a.chartId,startTime:Date.now(),score:0,accuracy:1,combo:0}}async stopGame(){let a=await this.api.game.stop();if(!a.success)throw Error(a.error||"Failed to stop game")}async pauseGame(){let a=await this.api.game.pause();if(!a.success)throw Error(a.error||"Failed to pause game")}async resumeGame(){let a=await this.api.game.resume();if(!a.success)throw Error(a.error||"Failed to resume game")}throwKnife(a){this.api.game.throwKnife({id:a.id,time:a.time})}onKnifeResult(a){return this.api.game.onKnifeResult(a)}async getChartLibrary(){let a=await this.api.osz.getLibrary();if(!a.success)throw Error(a.error||"Failed to load chart library");return a.charts||[]}async getChart(a){let b=(await this.getChartLibrary()).find(b=>b.id===a);if(!b)throw Error(`Chart ${a} not found`);return b}async importChart(a){let b=await this.api.osz.import(a);return{success:b.success,error:b.error}}async removeChart(a){let b=await this.api.osz.removeChart(a);if(!b.success)throw Error(b.error||"Failed to remove chart")}async getChartAudio(a){let b=await this.api.osz.getAudio(a);if(!b.success)throw Error(b.error||"Failed to get audio");return"mock-audio-url"}async getChartBackground(a){return"mock-background-url"}async getSettings(){let a=await this.api.settings.getAll();if(!a.success)throw Error(a.error||"Failed to load settings");return a.settings||{audio:{masterVolume:1,musicVolume:.8,effectVolume:.6,enableFeedback:!0},game:{scrollSpeed:1,noteSize:1,enableParticles:!0,showFps:!1},display:{fullscreen:!1,vsync:!0,targetFps:60},controls:{keyBindings:{lane1:"D",lane2:"F",lane3:"J",lane4:"K"}}}}async setSetting(a,b){let c=await this.api.settings.set(a,b);if(!c.success)throw Error(c.error||"Failed to update setting")}async resetSettings(){let a=await this.api.settings.reset();if(!a.success)throw Error(a.error||"Failed to reset settings")}onSettingsChange(a){return this.api.settings.onChange(b=>{this.getSettings().then(a).catch(console.error)})}async getVersion(){return this.api.system.version||"0.1.0"}async openExternal(a){window.open(a,"_blank")}async showMessageBox(a){return{response:0}}}let e=d.getInstance()},3662:(a,b,c)=>{c.d(b,{v:()=>f});var d=c(1768),e=c(3101);function f(){let[a,b]=(0,d.useState)(()=>null),[c,f]=(0,d.useState)("osu"),[g,h]=(0,d.useState)(()=>"idle"),[i,j]=(0,d.useState)({score:0,combo:0,accuracy:100,hits:{perfect:0,great:0,good:0,miss:0}}),k=(0,d.useRef)(0),l="playing"===g,m=(0,d.useCallback)(async(a,c="pin")=>{try{h("loading");try{await e.a.stopGame(),console.log("\uD83D\uDED1 Stopped existing game session")}catch(a){console.log("ℹ️ No existing game to stop:",a)}console.log("\uD83C\uDFAE Starting pin game with song:",a.title,"(ID:",a.id,")");let c={chartId:a.id,difficulty:"Normal",gameMode:"osu",mods:[]};console.log("\uD83C\uDFAE Starting game with new API params:",c);let d=await e.a.startGame(c);return console.log("\uD83C\uDFAE Pin game session started:",d),console.log("\uD83C\uDFAE Setting currentSong and gameState to playing"),b(a),f("pin"),h("playing"),console.log('\uD83C\uDFAE GameState should now be "playing"'),setTimeout(()=>{console.log('\uD83C\uDFAE TIMEOUT CHECK: gameState after 100ms should be "playing"')},100),k.current=Date.now(),s(),!0}catch(a){return console.error("❌ Game start failed:",a),h("idle"),!1}},[]),n=(0,d.useCallback)(async()=>{try{"playing"===g||"paused"===g?await e.a.stopGame():console.log("\uD83D\uDED1 No game running, skipping stop command"),h("idle"),b(null)}catch(a){console.log("ℹ️ Stop game error (may be expected):",a),h("idle"),b(null)}},[g]),o=(0,d.useCallback)(async()=>{},[]),p=(0,d.useCallback)(async()=>{},[]),q=(0,d.useCallback)(a=>{j(b=>({...b,...a}))},[]),r=(0,d.useCallback)(async()=>{if(!a)return!1;try{var b;let c={songId:a.id,score:i.score,accuracy:i.accuracy,combo:i.combo,rank:(b=i.accuracy)>=97?"SS":b>=90?"S":b>=80?"A":b>=70?"B":b>=60?"C":b>=50?"D":"F",timestamp:Date.now()};return console.log("\uD83D\uDCCA Score submission (TODO):",c),!0}catch(a){return console.error("❌ Failed to submit score:",a),!1}},[a,i]),s=(0,d.useCallback)(()=>{j({score:0,combo:0,accuracy:100,hits:{perfect:0,great:0,good:0,miss:0}})},[]);return{currentSong:a,gameMode:c,gameState:g,stats:i,isPlaying:l,startGame:m,stopGame:n,pauseGame:o,resumeGame:p,updateStats:q,submitScore:r,resetStats:s}}},6564:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(1744).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},6921:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(1744).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},8231:(a,b,c)=>{c.d(b,{a:()=>e});var d=c(1768);function e(){let[a,b]=(0,d.useState)([]),[c,e]=(0,d.useState)(!0),[f,g]=(0,d.useState)(null),[h,i]=(0,d.useState)(!1),j=(0,d.useCallback)(async()=>{console.log("\uD83D\uDD04 refreshLibrary called");try{e(!0),g(null),console.log("\uD83D\uDD0D Checking window.electronAPI:",{hasWindow:!1,hasElectronAPI:!!window.electronAPI,hasCharts:!!window.electronAPI?.charts,hasOsz:!!window.electronAPI?.osz,apis:window.electronAPI?Object.keys(window.electronAPI):"undefined"});let a=[];b(a),i(!1),a.length>0?(console.log(`✅ Using ${a.length} real songs with actual OSZ data`),console.log("\uD83D\uDCCA Sample song:",a[0])):(console.warn("⚠️ No real songs found"),g("곡 라이브러리가 비어있습니다. OSZ 파일을 확인해주세요."))}catch(a){console.error("\uD83D\uDCA5 Failed to load song library:",a),g("곡 라이브러리를 불러오는 데 실패했습니다"),b([])}finally{e(!1)}},[]),k=(0,d.useCallback)(async a=>{try{return g(null),g("Electron IPC를 사용할 수 없습니다"),!1}catch(a){return console.error("Failed to import OSZ:",a),g("OSZ 파일 가져오기 중 오류가 발생했습니다"),!1}},[j]),l=(0,d.useCallback)(async a=>{try{return g(null),g("Electron IPC를 사용할 수 없습니다"),!1}catch(a){return console.error("Failed to import file:",a),g("파일 가져오기 중 오류가 발생했습니다"),!1}},[j]),m=(0,d.useCallback)(b=>a.find(a=>a.id===b),[a]);return{songs:a,loading:c,error:f,refreshLibrary:j,importOsz:k,getSong:m,importFromFile:l,hasDummyData:h}}},8625:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(1744).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}};
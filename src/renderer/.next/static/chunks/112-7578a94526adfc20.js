"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{826:(e,r,t)=>{t.d(r,{cn:()=>n});var o=t(2902),a=t(3714);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,o.$)(r))}},1454:(e,r,t)=>{t.d(r,{v:()=>a});var o=t(7620);function a(){let[e,r]=(0,o.useState)(null),[t,a]=(0,o.useState)("osu"),[n,l]=(0,o.useState)("idle"),[s,i]=(0,o.useState)({score:0,combo:0,accuracy:100,hits:{perfect:0,great:0,good:0,miss:0}}),c=(0,o.useRef)(0),d="playing"===n,u=(0,o.useCallback)(async(e,t)=>{try{var o;if(l("loading"),window.electronAPI){if(console.log("\uD83D\uDD0C Electron API available:",Object.keys(window.electronAPI)),!window.electronAPI.game)return console.error("❌ Game API not available in electronAPI"),l("idle"),!1;let o={id:e.id,title:e.title,artist:e.artist,difficulty:"Normal",audioPath:e.audioFile,backgroundPath:e.backgroundImage,bpm:e.bpm,duration:e.duration};console.log("\uD83C\uDFAE Starting game with chartData:",o);let n=await window.electronAPI.game.start({chartData:o,gameMode:"pin"===t?"osu":t,mods:[]});if(console.log("\uD83C\uDFAE Game start response:",n),n&&"object"==typeof n&&"success"in n&&n.success)return r(e),a(t),l("playing"),c.current=Date.now(),y(),!0;return console.error("❌ Game start failed:",n),l("idle"),!1}return console.error("❌ Electron API not available - window:","object","electronAPI:",!!(null==(o=window)?void 0:o.electronAPI)),console.warn("⚡ Starting mock game for development"),r(e),a(t),l("playing"),c.current=Date.now(),y(),!0}catch(e){return console.error("Failed to start game:",e),l("idle"),!1}},[]),g=(0,o.useCallback)(async()=>{try{var e;(null==(e=window.electronAPI)?void 0:e.game)&&await window.electronAPI.game.stop(),l("idle"),r(null),a("pin")}catch(e){console.error("Failed to stop game:",e)}},[]),m=(0,o.useCallback)(async()=>{try{if("playing"===n){var e;(null==(e=window.electronAPI)?void 0:e.game)&&await window.electronAPI.game.pause(),l("paused")}}catch(e){console.error("Failed to pause game:",e)}},[n]),f=(0,o.useCallback)(async()=>{try{if("paused"===n){var e;(null==(e=window.electronAPI)?void 0:e.game)&&await window.electronAPI.game.resume(),l("playing")}}catch(e){console.error("Failed to resume game:",e)}},[n]),w=(0,o.useCallback)(e=>{i(r=>{let t={...r,...e},o=t.hits.perfect+t.hits.great+t.hits.good+t.hits.miss;if(o>0){let e=t.hits.perfect+t.hits.great+t.hits.good;t.accuracy=Math.round(e/o*100)}return t})},[]),h=(0,o.useCallback)(async()=>{try{var r,t;if(!e||"finished"!==n)return!1;let o={songId:e.id,score:s.score,accuracy:s.accuracy,combo:s.combo,rank:(t=s.accuracy)>=97?"SS":t>=90?"S":t>=80?"A":t>=70?"B":t>=60?"C":t>=50?"D":"F",timestamp:Date.now()};if(null==(r=window.electronAPI)||!r.game)return console.log("Mock score submission:",o),!0;{let e=window.electronAPI.game;if(e.submitScore)return await e.submitScore(o);return console.log("Score data prepared:",o),!0}}catch(e){return console.error("Failed to submit score:",e),!1}},[e,n,s]),y=(0,o.useCallback)(()=>{i({score:0,combo:0,accuracy:100,hits:{perfect:0,great:0,good:0,miss:0}})},[]);return{currentSong:e,gameMode:t,gameState:n,stats:s,isPlaying:d,startGame:u,stopGame:g,pauseGame:m,resumeGame:f,updateStats:w,submitScore:h,resetStats:y}}},2695:(e,r,t)=>{t.d(r,{a:()=>a});var o=t(7620);function a(){let[e,r]=(0,o.useState)([]),[t,a]=(0,o.useState)(!0),[n,l]=(0,o.useState)(null),s=(0,o.useCallback)(async()=>{console.log("\uD83D\uDD04 refreshLibrary called");try{var e,t,o;if(a(!0),l(null),console.log("\uD83D\uDD0D Checking window.electronAPI:",{hasWindow:!0,hasElectronAPI:!!window.electronAPI,hasOsz:!!(null==(e=window.electronAPI)?void 0:e.osz),osz:(null==(t=window.electronAPI)?void 0:t.osz)?Object.keys(window.electronAPI.osz):"undefined"}),null==(o=window.electronAPI)?void 0:o.osz){console.log("\uD83D\uDCDE Calling electronAPI.osz.getLibrary()");let e=await window.electronAPI.osz.getLibrary();if(console.log("\uD83D\uDCE8 IPC Response:",e),e&&e.success&&Array.isArray(e.charts)){console.log("✅ Found ".concat(e.charts.length," charts"));let t=e.charts.map(e=>({id:e.id,title:e.title,artist:e.artist,audioFile:"",backgroundImage:e.backgroundImage||"",difficulty:{easy:2,normal:4,hard:6,expert:8},bpm:e.bpm,duration:e.duration,filePath:"",notes:[]}));r(t),console.log("✅ Songs set:",t)}else console.warn("⚠️ Library empty or failed:",e),r([]),e&&e.error&&l(e.error)}else console.error("❌ Electron IPC not available"),r([]),l("Electron IPC를 사용할 수 없습니다")}catch(e){console.error("\uD83D\uDCA5 Failed to load song library:",e),l("곡 라이브러리를 불러오는 데 실패했습니다"),r([])}finally{a(!1)}},[]),i=(0,o.useCallback)(async e=>{try{var r;if(l(null),null==(r=window.electronAPI)||!r.osz)return l("Electron IPC를 사용할 수 없습니다"),!1;{let r=await window.electronAPI.osz.importFromPath(e);if(r.success)return await s(),!0;return l(r.error||"OSZ 파일 가져오기에 실패했습니다"),!1}}catch(e){return console.error("Failed to import OSZ:",e),l("OSZ 파일 가져오기 중 오류가 발생했습니다"),!1}},[s]),c=(0,o.useCallback)(async e=>{try{var r;if(l(null),null==(r=window.electronAPI)||!r.osz)return l("Electron IPC를 사용할 수 없습니다"),!1;{let r=await e.arrayBuffer(),t=new Uint8Array(r),o=await window.electronAPI.osz.importFromBuffer({name:e.name,buffer:t});if(o.success)return await s(),!0;return l(o.error||"OSZ 파일 가져오기에 실패했습니다"),!1}}catch(e){return console.error("Failed to import file:",e),l("파일 가져오기 중 오류가 발생했습니다"),!1}},[s]),d=(0,o.useCallback)(r=>e.find(e=>e.id===r),[e]);return(0,o.useEffect)(()=>{s()},[s]),{songs:e,loading:t,error:n,refreshLibrary:s,importOsz:i,getSong:d,importFromFile:c}}},4624:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(2068).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5239:(e,r,t)=>{t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>s});var o=t(4568),a=t(7620),n=t(826);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});l.displayName="Card";let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});s.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("h3",{ref:r,className:(0,n.cn)("font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},6845:(e,r,t)=>{t.d(r,{$:()=>c});var o=t(4568),a=t(7620),n=t(6118),l=t(4616),s=t(826);let i=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",game:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground shadow-game hover:shadow-game/80 transform hover:scale-105 transition-all duration-200",perfect:"bg-game-perfect text-white shadow-lg hover:bg-game-perfect/90 animate-pulse-game",great:"bg-game-great text-white shadow-lg hover:bg-game-great/90",good:"bg-game-good text-white shadow-lg hover:bg-game-good/90",miss:"bg-game-miss text-white shadow-lg hover:bg-game-miss/90"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-9 w-9",game:"h-12 px-6 py-3 text-base font-semibold"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:l,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,o.jsx)(u,{className:(0,s.cn)(i({variant:a,size:l,className:t})),ref:r,...d})});c.displayName="Button"},8937:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(2068).A)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])}}]);